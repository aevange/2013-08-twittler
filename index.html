<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    
    <button>Get New Twittles</button>
      <script>
      $(document).ready(function(){
        var $button = $('button');
         
        var newTweet = function (val) {
          var tweet = streams.home[val];
          var $tweet = $('<div></div>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message + ' created: ' + getTime(tweet.created_at));
          $tweet.insertAfter($button);
        };

        var getTime = function(val) {
          var hours = val.getHours();
          var amPM = hours < 12 ? "AM":"PM";
          if (amPM === "PM"){hours -= 12;}
          else if (hours == 0) {hours = 12;}
          return hours + ":" + addZero(val.getMinutes()) + ":" + addZero(val.getSeconds()) + " " + amPM;
        };

        var addZero = function (val) {
          val =  val < 10? '0' + val: val;
          return val;
        };
       
        var out = 0;
        var index = streams.home.length - 1;
        while(index >= 0){
          newTweet(index);
          index -= 1;
          out++;
        }
         
      $("button").click(function(){
          while(out < streams.home.length) {
          <!-- remove one elemen for each added -->
          <!--use .remove() somehow -->
          newTweet(out);
          out++;
          }
        });
      });
      </script>
  </body>
</html>
